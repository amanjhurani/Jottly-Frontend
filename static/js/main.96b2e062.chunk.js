(this["webpackJsonpnotes-app"]=this["webpackJsonpnotes-app"]||[]).push([[0],{150:function(e,t,a){},174:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),c=a(79),i=a.n(c),s=a(4),o=a(10),u=a.n(o),d=a(17),l=a(16),p=(a(97),a(98),a(2)),h=a(3),j=a(58),b=a(0),m=function(e){var t=e.activeNote,a=e.onUpdateNote,n=e.isUpdated,r=e.setUpdateStatus,c=function(e,n){var c;a(Object(h.a)(Object(h.a)({},t),{},(c={},Object(p.a)(c,e,n),Object(p.a)(c,"lastModified",Date.now()),Object(p.a)(c,"isImp",!1),Object(p.a)(c,"isPinned",!1),c))),r(!1)};if(!t)return Object(b.jsx)("div",{className:"no-active-note",children:"No Active Note"});var i="."===t.body?"":t.body;return Object(b.jsx)("div",{className:"app-main",children:Object(b.jsxs)("div",{className:"app-main-note-edit",children:[Object(b.jsxs)("div",{className:"app-main-note-header",children:[Object(b.jsx)("input",{type:"text",id:"title",placeholder:"Note Title",value:t.title,onChange:function(e){return c("title",e.target.value)},autoFocus:!0}),n?Object(b.jsx)("div",{children:Object(b.jsxs)("svg",{className:"checkmark",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 52 52",children:[Object(b.jsx)("circle",{className:"checkmark__circle",cx:"26",cy:"26",r:"25",fill:"none"}),Object(b.jsx)("path",{className:"checkmark__check",fill:"none",d:"M14.1 27.2l7.1 7.2 16.7-16.8"})]})}):Object(b.jsx)("div",{})]}),Object(b.jsx)("div",{className:"app-main-note-preview-pc",children:Object(b.jsx)("div",{"data-color-mode":"light",children:Object(b.jsx)(j.a,{id:"body",placeholder:"Write your note here...",height:660,value:i,onChange:function(e){return c("body",e)},visibleDragbar:!1})})}),Object(b.jsx)("div",{className:"app-main-note-preview-mobile",children:Object(b.jsx)("div",{"data-color-mode":"light",children:Object(b.jsx)(j.a,{id:"body",maxHeight:"45",placeholder:"Write your note here...",height:400,value:i,onChange:function(e){return c("body",e)},preview:"edit",visiableDragbar:!1})})})]})})},f=function(e){var t=e.notes,a=e.onAddNote,n=e.onDeleteNote,r=e.activeNote,c=e.setActiveNote,i=e.isLogout,s=t.sort((function(e,t){return t.updatedAt-e.updatedAt}));return Object(b.jsxs)("div",{className:"app-sidebar",children:[Object(b.jsxs)("div",{className:"app-sidebar-header",children:[Object(b.jsx)("h1",{children:"Notes"}),Object(b.jsx)("button",{onClick:a,children:"Add"}),Object(b.jsx)("button",{onClick:function(){i()},children:"Exit"})]}),Object(b.jsx)("div",{className:"app-sidebar-notes",children:s.map((function(e,t){var a=e._id,i=e.title,s=e.body,o=e.updatedAt;return Object(b.jsxs)("div",{className:"app-sidebar-note ".concat(a===r&&"active"),onClick:function(){return c(a)},children:[Object(b.jsxs)("div",{className:"app-sidebar-note-title",children:[Object(b.jsx)("strong",{children:i&&i.substr(0,17)+"..."}),Object(b.jsx)("button",{onClick:function(e){return n(a)},children:"Delete"})]}),Object(b.jsx)("p",{children:s&&s.substr(0,57)+"..."}),Object(b.jsxs)("small",{className:"note-meta",children:["Last Modified"," ",new Date(o).toLocaleDateString("en-GB",{hour:"2-digit",minute:"2-digit"})]})]})}))})]})},O=a(11),v=a(18),x=a(24),g=a(26),w=(a(150),a(20)),k=a.n(w),y="https://jottly-app.herokuapp.com/api/v1/user",N=function(e){Object(x.a)(a,e);var t=Object(g.a)(a);function a(){var e;Object(O.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={email:"",pwd:"",name:"",contact:"",token:null,user:{}},e.createLogin=Object(d.a)(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,k.a.post(y+"/login",{payload:{email:e.state.email,password:e.state.pwd}}).then((function(t){e.setState({token:t.data.token,user:t.data.user}),localStorage.setItem("token",e.state.token)})).catch((function(e){alert(e.response.data.msg)}));case 2:case"end":return t.stop()}}),t)}))),e.createRegistration=Object(d.a)(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,k.a.post(y+"/register",{payload:{email:e.state.email,password:e.state.pwd,name:e.state.name,phone:e.state.contact}}).then((function(t){e.setState({token:t.data.token,user:t.data.user}),localStorage.setItem("token",e.state.token)})).catch((function(e){alert(e.response.data.msg)}));case 2:case"end":return t.stop()}}),t)}))),e.handleChange=function(t){var a=t.target,n=a.name,r=a.value;e.setState(Object(p.a)({},n,r))},e.handleLoginSubmit=function(){var t=Object(d.a)(u.a.mark((function t(a){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),t.next=3,e.createLogin();case 3:null!=e.state.token&&e.props.isLogin(!0,e.state.token);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.handleRegSubmit=function(){var t=Object(d.a)(u.a.mark((function t(a){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),t.next=3,e.createRegistration();case 3:null!=e.state.token&&e.props.isLogin(!0,e.state.token);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(v.a)(a,[{key:"render",value:function(){return Object(b.jsxs)("div",{className:"auth",children:[Object(b.jsxs)("div",{className:"login",children:[Object(b.jsx)("h1",{children:"Login"}),Object(b.jsxs)("form",{onSubmit:this.handleLoginSubmit,children:[Object(b.jsx)("input",{type:"email",name:"email",placeholder:"email...",required:!0,onChange:this.handleChange}),Object(b.jsx)("input",{type:"password",name:"pwd",placeholder:"password...",required:!0,onChange:this.handleChange}),Object(b.jsx)("button",{onSubmit:this.handleLoginSubmit,children:"Log In"})]})]}),Object(b.jsxs)("div",{className:"register",children:[Object(b.jsx)("h1",{children:"Register"}),Object(b.jsxs)("form",{onSubmit:this.handleRegSubmit,children:[Object(b.jsx)("input",{type:"text",name:"name",placeholder:"name...",required:!0,onChange:this.handleChange}),Object(b.jsx)("input",{type:"email",name:"email",placeholder:"email...",required:!0,onChange:this.handleChange}),Object(b.jsx)("input",{type:"text",name:"contact",placeholder:"contact...",minLength:"10",maxLength:"10",onChange:this.handleChange}),Object(b.jsx)("input",{type:"password",name:"pwd",placeholder:"password...",required:!0,onChange:this.handleChange}),Object(b.jsx)("button",{onSubmit:this.handleRegSubmit,children:"Register"})]})]})]})}}]),a}(r.a.Component),S=a(6),C=a(88);var L=function(){var e=Object(n.useState)(localStorage.notes?JSON.parse(localStorage.notes):[]),t=Object(l.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)(localStorage.token?localStorage.token:null),i=Object(l.a)(c,2),o=i[0],p=i[1],h=Object(n.useState)(!!o),j=Object(l.a)(h,2),O=j[0],v=j[1],x=Object(n.useState)(!1),g=Object(l.a)(x,2),w=g[0],y=g[1],L="https://jottly-app.herokuapp.com/api/v1/note",A=Object(n.useState)(!1),_=Object(l.a)(A,2),D=_[0],I=_[1];Object(n.useEffect)(Object(d.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={headers:{authorization:o}},e.next=3,k.a.post(L+"/list",{},t).then((function(e){r(e.data.data)})).catch((function(e){alert(e.response.data.msg)}));case 3:case"end":return e.stop()}}),e)}))),[]);var R=function(){var e=Object(d.a)(u.a.mark((function e(t,a){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v(t);case 2:return p(a),n={headers:{authorization:a}},e.next=6,k.a.post(L+"/list",{},n).then((function(e){r(e.data.data)})).catch((function(e){alert(e.response.data.msg)}));case 6:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),U=function(){var e=Object(d.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return v(!1),t={headers:{authorization:o}},e.next=4,k.a.post("https://jottly-app.herokuapp.com/api/v1/user/logout",{},t).then((function(e){})).catch((function(e){alert(e.response.data.msg)}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),z=function(){var e=Object(d.a)(u.a.mark((function e(){var t,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={headers:{authorization:o}},n={title:"Untitled Note",body:"",isPinned:!1,isImp:!1,_id:(new C.a).toString(),updatedAt:Date.now()},r([n].concat(Object(s.a)(a))),y(n._id),e.next=6,k.a.post(L+"/add",{payload:n},t).then((function(e){})).catch((function(e){alert(e.response.data.msg)}));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),q=function(){var e=Object(d.a)(u.a.mark((function e(t){var n,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r(a.filter((function(e){return e._id!==t}))),n={headers:{authorization:o}},c={ids:[t]},e.next=5,k.a.post(L+"/delete",{payload:c},n).then((function(e){})).catch((function(e){alert(e.response.data.msg)}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),M=function(){var e=Object(d.a)(u.a.mark((function e(t){var n,c,i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.map((function(e){return e._id===t._id?t:e})),r(n),c={headers:{authorization:o}},i={title:t.title,body:t.body,isPinned:t.isPinned,isImp:t.isImp,_id:t._id,updatedAt:Date.now()},e.next=6,k.a.post(L+"/update",{payload:i},c).then((function(e){200===e.data.status?I(!0):I(!1)})).catch((function(e){alert(e.response.data.msg)}));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(b.jsx)("div",{className:"App",children:Object(b.jsx)(S.c,{children:Object(b.jsx)(S.a,{path:"/",element:O?Object(b.jsxs)("div",{className:"App-Home",children:[Object(b.jsx)(f,{notes:a,onAddNote:z,onDeleteNote:q,activeNote:w,setActiveNote:y,isLogout:U}),Object(b.jsx)(m,{activeNote:a.find((function(e){return e._id===w})),onUpdateNote:M,isUpdated:D,setUpdateStatus:I})]}):Object(b.jsx)(N,{isLogin:R})})})})},A=a(56);i.a.render(Object(b.jsx)(A.a,{children:Object(b.jsx)(r.a.StrictMode,{children:Object(b.jsx)(L,{})})}),document.getElementById("root"))},98:function(e,t,a){}},[[174,1,2]]]);
//# sourceMappingURL=main.96b2e062.chunk.js.map