{"version":3,"sources":["main/Main.jsx","sidebar/Sidebar.jsx","login/Login.jsx","App.jsx","index.js"],"names":["Main","activeNote","onUpdateNote","isUpdated","setUpdateStatus","onEditField","field","value","Date","now","className","activeNoteBody","body","type","id","placeholder","title","onChange","e","target","autoFocus","class","xmlns","viewBox","cx","cy","r","fill","d","Sidebar","notes","onAddNote","onDeleteNote","setActiveNote","sortedNotes","sort","a","b","updatedAt","onClick","map","i","_id","substr","toLocaleDateString","hour","minute","baseURL","Login","state","email","pwd","token","user","createLogin","axios","post","payload","password","then","response","setState","data","localStorage","setItem","console","log","handleChange","name","handleSubmit","preventDefault","props","isLogin","onSubmit","this","required","React","Component","App","useState","JSON","parse","setNotes","authToken","setAuthToken","isLog","setLogin","setIsUpdated","useEffect","config","headers","authorization","newNote","isPinned","isImp","ObjectID","toString","noteId","filter","deleteNote","ids","updatedNote","updatedNotesArr","note","updateNote","status","path","element","find","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.39f6d349.chunk.js","sourcesContent":["import ReactMarkdown from \"react-markdown\";\nimport { useState } from \"react\";\n\nconst Main = ({ activeNote, onUpdateNote, isUpdated, setUpdateStatus }) => {\n  const onEditField = (field, value) => {\n    onUpdateNote({\n      ...activeNote,\n      [field]: value,\n      lastModified: Date.now(),\n      isImp: false,\n      isPinned: false\n    });\n    setUpdateStatus(false);\n  };\n  \n\n  if (!activeNote) return <div className=\"no-active-note\">No Active Note</div>;\n  const activeNoteBody = activeNote.body === '.' ? '' : activeNote.body;\n  return (\n    <div className=\"app-main\" >\n      <div className=\"app-main-note-edit\">\n        <div className=\"app-main-note-header\">\n          <input\n            type=\"text\"\n            id=\"title\"\n            placeholder=\"Note Title\"\n            value={activeNote.title}\n            onChange={(e) => onEditField(\"title\", e.target.value)}\n            autoFocus\n          // onFocus={setEditFocus(true)}\n          />\n          { isUpdated ?\n            <div>\n            <svg class=\"checkmark\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 52 52\">\n              <circle class=\"checkmark__circle\" cx=\"26\" cy=\"26\" r=\"25\" fill=\"none\" />\n              <path class=\"checkmark__check\" fill=\"none\" d=\"M14.1 27.2l7.1 7.2 16.7-16.8\" />\n            </svg>\n          </div> : \n          <div>\n          </div>\n          }\n        </div>\n        <textarea\n          id=\"body\"\n          placeholder=\"Write your note here...\"\n          value={activeNoteBody}\n          onChange={(e) => onEditField(\"body\", e.target.value)}\n        />\n        <div className=\"app-main-note-preview\">\n          <h1 className=\"preview-title\">{activeNote.title}</h1>\n          <ReactMarkdown className=\"markdown-preview\" >\n            {activeNoteBody}\n          </ReactMarkdown>\n        </div>\n      </div>\n\n    </div>\n  );\n};\n\nexport default Main;\n","const Sidebar = ({\n  notes,\n  onAddNote,\n  onDeleteNote,\n  activeNote,\n  setActiveNote,\n}) => {\n  const sortedNotes = notes.sort((a, b) => b.updatedAt - a.updatedAt);\n\n  return (\n    <div className=\"app-sidebar\">\n      <div className=\"app-sidebar-header\">\n        <h1>Notes</h1>\n        <button onClick={onAddNote}>Add</button>\n      </div>\n      <div className=\"app-sidebar-notes\">\n        {sortedNotes.map(({ _id, title, body, updatedAt }, i) => (\n          <div\n            className={`app-sidebar-note ${_id === activeNote && \"active\"}`}\n            onClick={() => setActiveNote(_id)}\n          >\n            <div className=\"sidebar-note-title\">\n              <strong>{title && title.substr(0, 17) + \"...\"}</strong>\n              {/* <p>{body && body.substr(0, 100) + \"...\"}</p>\n              <small className=\"note-meta\">\n              Last Modified{\" \"}\n              {new Date(updatedAt).toLocaleDateString(\"en-GB\", {\n                hour: \"2-digit\",\n                minute: \"2-digit\",\n              })}\n            </small> */}\n              <button onClick={(e) => onDeleteNote(_id)}>Delete</button>\n            </div>\n\n            <p>{body && body.substr(0, 57) + \"...\"}</p>\n            <small className=\"note-meta\">\n              Last Modified{\" \"}\n              {new Date(updatedAt).toLocaleDateString(\"en-GB\", {\n                hour: \"2-digit\",\n                minute: \"2-digit\",\n              })}\n            </small>\n          </div>\n        ))}\n      </div>\n    </div>\n  );\n};\n\nexport default Sidebar;\n","import React from 'react';\nimport './Login.css';\nimport axios from \"axios\";\n\nconst baseURL = 'https://jottly-app.herokuapp.com/api/v1/user/login'\n\nclass Login extends React.Component{\n    state={\n        email:'',\n        pwd:'',\n        token: null,\n        user: {}\n    }\n\n    createLogin = async () => {\n        await axios\n          .post(baseURL, {\n            payload: {\n                email: this.state.email,\n                password: this.state.pwd\n            }\n          })\n          .then((response) => {\n            this.setState({\n                token: response.data.token,\n                user: response.data.user\n            });\n            localStorage.setItem(\"token\", this.state.token);\n            console.log(response.data.token, response.data.user)\n          });\n      }\n\n    handleChange = (e) =>{\n        const {name,value} = e.target\n        this.setState({[name]:value})\n    }\n\n    handleSubmit = async (e) =>{\n        e.preventDefault()\n        await this.createLogin();\n        if(this.state.token != null) {\n            this.props.isLogin(true, this.state.token);\n        }\n    }\n    render(){\n        return(\n            <div className='div-login'>\n                <div>\n                    <form onSubmit = {this.handleSubmit}>\n                        <input type='email' name='email' placeholder='email...' required onChange={this.handleChange}/>\n                        <input type='password' name='pwd' placeholder='password...' required onChange={this.handleChange}/>\n                        <button onSubmit={this.handleSubmit}>Log In</button>\n                    </form>\n                </div>\n            </div>\n        )\n    }\n}\n\nexport default Login;","import { useEffect, useState } from \"react\";\nimport uuid from \"react-uuid\";\nimport \"./App.css\";\nimport Main from \"./main/Main\";\nimport Sidebar from \"./sidebar/Sidebar\";\nimport Login from \"./login/Login\";\nimport { Routes, Route } from 'react-router-dom';\nimport axios from \"axios\";\nimport { ObjectID } from 'bson';\n\n\n\nfunction App() {\n  const [notes, setNotes] = useState(\n    localStorage.notes ? JSON.parse(localStorage.notes) : []\n  );\n  const [authToken, setAuthToken] = useState(localStorage.token ? localStorage.token : null);\n  const [isLog, setLogin] = useState(authToken ? true : false);\n  const [activeNote, setActiveNote] = useState(false);\n  const baseURL = 'https://jottly-app.herokuapp.com/api/v1/note';\n  const [isUpdated, setIsUpdated] = useState(false);\n\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  useEffect(async () => {\n    let config = {\n      headers: {\n        authorization: authToken,\n      }\n    }\n    await axios\n      .post(baseURL+'/list', {\n      }, config)\n      .then((response) => {\n        setNotes(response.data.data);\n      });\n  }, []);\n\n  const handleLogin = (isLog, authToken) => {\n    setLogin(isLog);\n    setAuthToken(authToken)\n  }\n\n  // const getNotes = async () => {\n    \n  // }\n\n  const onAddNote = async () => {\n    let config = {\n      headers: {\n        authorization: authToken,\n      }\n    }\n    const newNote = {\n      title: \"Untitled Note\",\n      body: \"\",\n      isPinned: false,\n      isImp: false,\n      _id: new ObjectID().toString(),\n      updatedAt: Date.now()\n    };\n    \n    setNotes([newNote, ...notes]);\n    setActiveNote(newNote._id);\n    await axios\n    .post(baseURL+'/add', {\n      payload: newNote\n    }, config)\n    .then((response) => {\n      console.log(response);\n    });\n    // setActiveNote(newNote._id);\n    \n  };\n\n  const onDeleteNote = async (noteId) => {\n    setNotes(notes.filter(({ _id }) => _id !== noteId));\n    let config = {\n      headers: {\n        authorization: authToken,\n      }\n    }\n    const deleteNote = {\n     ids: [noteId]\n    };\n    await axios\n    .post(baseURL+'/delete', {\n      payload: deleteNote\n    }, config)\n    .then((response) => {\n      console.log(response);\n    });\n\n  };\n\n  const onUpdateNote = async (updatedNote) => {\n    const updatedNotesArr = notes.map((note) => {\n      if (note._id === updatedNote._id) {\n        return updatedNote;\n      }\n\n      return note;\n    });\n    setNotes(updatedNotesArr);\n\n    let config = {\n      headers: {\n        authorization: authToken,\n      }\n    }\n    const updateNote = {\n      title: updatedNote.title,\n      body: updatedNote.body,\n      isPinned: updatedNote.isPinned,\n      isImp: updatedNote.isImp,\n      _id: updatedNote._id,\n      updatedAt: Date.now()\n    };\n    await axios\n    .post(baseURL+'/update', {\n      payload: updateNote\n    }, config)\n    .then((response) => {\n      if(response.data.status === 200) {\n        setIsUpdated(true)\n      } else {\n        setIsUpdated(false)\n      }\n    });\n\n\n\n  };\n\n  const getActiveNote = () => {\n    return notes.find(({ _id }) => _id === activeNote);\n  };\n\n  return (\n    <div className=\"App\">\n      <Routes>\n      <Route path=\"/\" element={\n        !isLog ? \n        <Login isLogin = {handleLogin}/> :\n          <div className=\"App-Home\">\n            <Sidebar\n              notes={notes}\n              onAddNote={onAddNote}\n              onDeleteNote={onDeleteNote}\n              activeNote={activeNote}\n              setActiveNote={setActiveNote}\n            />\n            <Main activeNote={getActiveNote()} onUpdateNote={onUpdateNote} isUpdated={isUpdated} setUpdateStatus={setIsUpdated} />\n          </div>\n        } />\n      </Routes>\n    </div>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App.jsx\";\nimport {HashRouter} from 'react-router-dom'\n\nReactDOM.render(\n  <HashRouter>\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>\n  </HashRouter>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}